import PolygonSmoother as psm

def test_k_sample_smoother():
    coods = [[-0.22495687007904053,5.615889723095555], [-0.22494077682495117,5.615884384425098], [-0.2249273657798767,5.615857691072103], [-0.22491395473480222,5.615844344395141], [-0.22490590810775757,5.615833667053362], [-0.224895179271698,5.6158363363888135], [-0.2248817682266235,5.6158363363888135], [-0.22486299276351931,5.615839005724277], [-0.22483885288238525,5.615806973698039], [-0.22479057312011716,5.615761594991187], [-0.22473424673080442,5.615820320375841], [-0.22469669580459595,5.615750917647869], [-0.224744975566864,5.615740240304386], [-0.2246725559234619,5.615887053760334], [-0.22464036941528318,5.615887053760334], [-0.22462159395217896,5.615884384425098], [-0.22458404302597043,5.615884384425098], [-0.224570631980896,5.615887053760334], [-0.22455722093582156,5.615887053760334], [-0.22439628839492795,5.615876376419318], [-0.22425949573516846,5.615649482876738], [-0.2240931987762451,5.615702869600592], [-0.2238115668296814,5.615857691072103], [-0.22376060485839844,5.616084584533617], [-0.22374719381332397,5.616132632549419], [-0.22374719381332397,5.616172672559556], [-0.22374987602233887,5.616207373899452], [-0.22375255823135376,5.6162394059036815], [-0.22375524044036862,5.616266099239197], [-0.22375524044036862,5.616282115239906], [-0.22375792264938354,5.6163034699068595], [-0.22375792264938354,5.616324824573012], [-0.22376060485839844,5.616348848571512], [-0.22376060485839844,5.61636753390299], [-0.22376328706741333,5.616396896565521], [-0.22377133369445798,5.6164743072142125], [-0.22379547357559204,5.616573072509667], [-0.22383302450180054,5.616639805807942], [-0.2236184477806091,5.616981480175315], [-0.22363454103469846,5.616994826826222], [-0.22362112998962402,5.617000165486501], [-0.22365331649780273,5.617000165486501], [-0.22384107112884521,5.616658491130082], [-0.22385179996490476,5.6166745071200275], [-0.2238571643829346,5.616690523109503], [-0.22386252880096436,5.616711877761495], [-0.22388666868209836,5.61670653909857], [-0.2239081263542175,5.61670920843004], [-0.22392690181732178,5.61670653909857], [-0.223945677280426,5.616701200435594], [-0.22397518157958982,5.61668785377797], [-0.24135589599609375,5.669967936881578], [-0.22399663925170898,5.616685184446399], [-0.22401809692382812,5.616685184446399], [-0.22410124540328982,5.6166985311041], [-0.22437751293182373,5.616840005656877], [-0.22526264190673828,5.616925424238157], [-0.22517681121826172,5.616274107239608], [-0.22500514984130857,5.615975141816144], [-0.22495687007904053,5.615889723095555]]
    print('Starting test_k_sample_smoother...')
    new_coords = psm.remove_duplicates(coods)
    smooth = psm.k_sample_smoother(coords=new_coords)
    smooth = psm.k_sample_smoother(coords=psm.remove_duplicates(smooth))
    smooth = psm.k_sample_smoother(coords=psm.remove_duplicates(smooth))

    print('Finished test_k_sample_smoother...')
    return psm.remove_duplicates(smooth)

'''
Uses all available smoothers
'''
def test_map_cleaner():
    coods = [[-0.22495687007904053,5.615889723095555], [-0.22494077682495117,5.615884384425098], [-0.2249273657798767,5.615857691072103], [-0.22491395473480222,5.615844344395141], [-0.22490590810775757,5.615833667053362], [-0.224895179271698,5.6158363363888135], [-0.2248817682266235,5.6158363363888135], [-0.22486299276351931,5.615839005724277], [-0.22483885288238525,5.615806973698039], [-0.22479057312011716,5.615761594991187], [-0.22473424673080442,5.615820320375841], [-0.22469669580459595,5.615750917647869], [-0.224744975566864,5.615740240304386], [-0.2246725559234619,5.615887053760334], [-0.22464036941528318,5.615887053760334], [-0.22462159395217896,5.615884384425098], [-0.22458404302597043,5.615884384425098], [-0.224570631980896,5.615887053760334], [-0.22455722093582156,5.615887053760334], [-0.22439628839492795,5.615876376419318], [-0.22425949573516846,5.615649482876738], [-0.2240931987762451,5.615702869600592], [-0.2238115668296814,5.615857691072103], [-0.22376060485839844,5.616084584533617], [-0.22374719381332397,5.616132632549419], [-0.22374719381332397,5.616172672559556], [-0.22374987602233887,5.616207373899452], [-0.22375255823135376,5.6162394059036815], [-0.22375524044036862,5.616266099239197], [-0.22375524044036862,5.616282115239906], [-0.22375792264938354,5.6163034699068595], [-0.22375792264938354,5.616324824573012], [-0.22376060485839844,5.616348848571512], [-0.22376060485839844,5.61636753390299], [-0.22376328706741333,5.616396896565521], [-0.22377133369445798,5.6164743072142125], [-0.22379547357559204,5.616573072509667], [-0.22383302450180054,5.616639805807942], [-0.2236184477806091,5.616981480175315], [-0.22363454103469846,5.616994826826222], [-0.22362112998962402,5.617000165486501], [-0.22365331649780273,5.617000165486501], [-0.22384107112884521,5.616658491130082], [-0.22385179996490476,5.6166745071200275], [-0.2238571643829346,5.616690523109503], [-0.22386252880096436,5.616711877761495], [-0.22388666868209836,5.61670653909857], [-0.2239081263542175,5.61670920843004], [-0.22392690181732178,5.61670653909857], [-0.223945677280426,5.616701200435594], [-0.22397518157958982,5.61668785377797], [-0.24135589599609375,5.669967936881578], [-0.22399663925170898,5.616685184446399], [-0.22401809692382812,5.616685184446399], [-0.22410124540328982,5.6166985311041], [-0.22437751293182373,5.616840005656877], [-0.22526264190673828,5.616925424238157], [-0.22517681121826172,5.616274107239608], [-0.22500514984130857,5.615975141816144], [-0.22495687007904053,5.615889723095555]]
    
    print('\nStarting test_map_cleaner...')
    new_coords = psm.remove_duplicates(coods)

    # Run angles remover for the first time
    no_angles_coord = psm.run_angle_remover(coords=new_coords, deg_threshold=60.0)
    smooth_points = psm.nearest_neighbor_smoother(no_angles_coord)

    # run angles remover for the second time on the smoothened points
    no_angles_coord = psm.run_angle_remover(coords=smooth_points, deg_threshold=60.0)
    no_lakes = psm.remove_lakes_islands(coords=no_angles_coord)
    print('Finished test_map_cleaner...')

    return no_lakes

def test_coefficient_smoother():
    coods = [[-0.22495687007904053,5.615889723095555], [-0.22494077682495117,5.615884384425098], [-0.2249273657798767,5.615857691072103], [-0.22491395473480222,5.615844344395141], [-0.22490590810775757,5.615833667053362], [-0.224895179271698,5.6158363363888135], [-0.2248817682266235,5.6158363363888135], [-0.22486299276351931,5.615839005724277], [-0.22483885288238525,5.615806973698039], [-0.22479057312011716,5.615761594991187], [-0.22473424673080442,5.615820320375841], [-0.22469669580459595,5.615750917647869], [-0.224744975566864,5.615740240304386], [-0.2246725559234619,5.615887053760334], [-0.22464036941528318,5.615887053760334], [-0.22462159395217896,5.615884384425098], [-0.22458404302597043,5.615884384425098], [-0.224570631980896,5.615887053760334], [-0.22455722093582156,5.615887053760334], [-0.22439628839492795,5.615876376419318], [-0.22425949573516846,5.615649482876738], [-0.2240931987762451,5.615702869600592], [-0.2238115668296814,5.615857691072103], [-0.22376060485839844,5.616084584533617], [-0.22374719381332397,5.616132632549419], [-0.22374719381332397,5.616172672559556], [-0.22374987602233887,5.616207373899452], [-0.22375255823135376,5.6162394059036815], [-0.22375524044036862,5.616266099239197], [-0.22375524044036862,5.616282115239906], [-0.22375792264938354,5.6163034699068595], [-0.22375792264938354,5.616324824573012], [-0.22376060485839844,5.616348848571512], [-0.22376060485839844,5.61636753390299], [-0.22376328706741333,5.616396896565521], [-0.22377133369445798,5.6164743072142125], [-0.22379547357559204,5.616573072509667], [-0.22383302450180054,5.616639805807942], [-0.2236184477806091,5.616981480175315], [-0.22363454103469846,5.616994826826222], [-0.22362112998962402,5.617000165486501], [-0.22365331649780273,5.617000165486501], [-0.22384107112884521,5.616658491130082], [-0.22385179996490476,5.6166745071200275], [-0.2238571643829346,5.616690523109503], [-0.22386252880096436,5.616711877761495], [-0.22388666868209836,5.61670653909857], [-0.2239081263542175,5.61670920843004], [-0.22392690181732178,5.61670653909857], [-0.223945677280426,5.616701200435594], [-0.22397518157958982,5.61668785377797], [-0.24135589599609375,5.669967936881578], [-0.22399663925170898,5.616685184446399], [-0.22401809692382812,5.616685184446399], [-0.22410124540328982,5.6166985311041], [-0.22437751293182373,5.616840005656877], [-0.22526264190673828,5.616925424238157], [-0.22517681121826172,5.616274107239608], [-0.22500514984130857,5.615975141816144], [-0.22495687007904053,5.615889723095555]]
    print('\nStarting test_coefficient_smoother...')
    new_coords = psm.remove_duplicates(coods)
    no_angles_coord = psm.run_angle_remover(new_coords)
    smooth_points = psm.nearest_neighbor_smoother(no_angles_coord)
    print('Finished test_coefficient_smoother...')
    return smooth_points

def test_convex_hull():
    print('\nStarting test_convex_hull_smoother...')
    coods = [[-2.093591373413801, 5.341689744964242],[-2.093536388128996, 5.341660869307816],[-2.093483079224825, 5.341625791043043],[-2.0934305246919394, 5.341589245945215],[-2.09333723410964, 5.341518083587289],[-2.093278393149376, 5.341498092748225],[-2.0932275149971247, 5.341471438296139],[-2.0931736193597317, 5.341436443850398],[-2.093129111453891, 5.34139474388212],[-2.0930674206465483, 5.341408741660416],[-2.093012435361743, 5.3414406767115],[-2.0929696038365364, 5.341493105515838],[-2.092997347936034, 5.341553161852062],[-2.0930366590619087, 5.341603998094797],[-2.09301277063787, 5.341662168502808],[-2.093035401776433, 5.341703407466412],[-2.09307630546391, 5.341748711653054],[-2.0931068155914545, 5.34179225564003],[-2.093148222193122, 5.341841205954552],[-2.0931921433657408, 5.3418827801942825],[-2.093234220519662, 5.341928754933178],[-2.093286607414484, 5.341955744661391],[-2.0933512318879366, 5.341929215937853],[-2.093400936573744, 5.341889820992947],[-2.0934499707072973, 5.341864507645369],[-2.0934975799173117, 5.3418451035395265],[-2.0935409981757402, 5.341798206791282],[-2.093584667891264, 5.341745149344206],[-2.093560444191098, 5.341696031391621],[-2.093591373413801, 5.341689744964242]]
    print('Finished test_convex_hull_smoother...')

    return psm.convex_hull(coods)

def test_compute_significant_points():
    print('\nStarting test_compute_significant_points...')
    coods = [[-2.093591373413801, 5.341689744964242],[-2.093536388128996, 5.341660869307816],[-2.093483079224825, 5.341625791043043],[-2.0934305246919394, 5.341589245945215],[-2.09333723410964, 5.341518083587289],[-2.093278393149376, 5.341498092748225],[-2.0932275149971247, 5.341471438296139],[-2.0931736193597317, 5.341436443850398],[-2.093129111453891, 5.34139474388212],[-2.0930674206465483, 5.341408741660416],[-2.093012435361743, 5.3414406767115],[-2.0929696038365364, 5.341493105515838],[-2.092997347936034, 5.341553161852062],[-2.0930366590619087, 5.341603998094797],[-2.09301277063787, 5.341662168502808],[-2.093035401776433, 5.341703407466412],[-2.09307630546391, 5.341748711653054],[-2.0931068155914545, 5.34179225564003],[-2.093148222193122, 5.341841205954552],[-2.0931921433657408, 5.3418827801942825],[-2.093234220519662, 5.341928754933178],[-2.093286607414484, 5.341955744661391],[-2.0933512318879366, 5.341929215937853],[-2.093400936573744, 5.341889820992947],[-2.0934499707072973, 5.341864507645369],[-2.0934975799173117, 5.3418451035395265],[-2.0935409981757402, 5.341798206791282],[-2.093584667891264, 5.341745149344206],[-2.093560444191098, 5.341696031391621],[-2.093591373413801, 5.341689744964242]]
    print('Finished test_compute_significant_points...')
    
    return psm.compute_significant_points(coords=coods)

def test_reduce_point():
    print('\nStarting test_reduce_point...')
    coods = [[-0.22496652603149414, 5.615913747110595], [-0.2249444782733917, 5.615885185224848], [-0.22492847621440887, 5.615861935314838], [-0.2249158971905708, 5.615846418468516], [-0.22490568618178367, 5.615838293278544], [-0.22489430803120136, 5.615836923455732], [-0.22487989752906562, 5.6158373133095285], [-0.224860822228843, 5.615828888391981], [-0.22483095975764217, 5.615799934494166], [-0.22478579119458086, 5.615790714457477], [-0.22473120282773462, 5.615831458615679], [-0.22468049404229012, 5.615870375216938], [-0.224646774164454, 5.615881249396745], [-0.22461788273799893, 5.6158834439165926], [-0.22459017162605666, 5.615884903073117], [-0.22457247056092183, 5.615886408554169], [-0.22451351606108355, 5.615883656996179], [-0.2243904188968468, 5.615810492529603], [-0.22424888359599493, 5.615713801789753], [-0.22405541463820094, 5.615752595698794], [-0.22386943258085237, 5.615894230498564], [-0.22378922986161226, 5.616041892727841], [-0.22375980462781048, 5.616117422605987], [-0.2237517817203744, 5.6161665079754535], [-0.22375125239445398, 5.616204723723522], [-0.2237529711429883, 5.6162370092502885], [-0.22375455965115454, 5.616262177042737], [-0.2237558408663089, 5.616282540180841], [-0.22375729811446116, 5.6163035973888995], [-0.2237585399516113, 5.616325663617328], [-0.2237599853863623, 5.6163474986847], [-0.22376122367949206, 5.616370332136262], [-0.22376508203915035, 5.616412150431351], [-0.2237767001622059, 5.616485289767991], [-0.22380110682943877, 5.616566757676647], [-0.22375907618373458, 5.616720393678765], [-0.22380451338053164, 5.616732344153991], [-0.22383922331500178, 5.616696663027059], [-0.22385339138796367, 5.616698771480367], [-0.22386702954140436, 5.616706344278279], [-0.2238872142415259, 5.616707281451924], [-0.2239074853593413, 5.616707829537164], [-0.2239267095188589, 5.616705324631256], [-0.22394883824170503, 5.616698433697005], [-0.22397371587986015, 5.6166902269542085], [-0.22399619954179006, 5.616686697198742], [-0.2240364722530552, 5.616689642269413], [-0.2241646937167796, 5.616738306819526], [-0.22457920585978486, 5.616835121580055], [-0.2250318618861093, 5.616702938341162], [-0.22508182800553006, 5.616313066943035], [-0.22501656614763066, 5.6160581009425465]]
    print('Starting test_reduce_point...')
    
    return psm.reduce_point(coords=coods, epsilon=30)

print('>>>>>>>>>> BEGIN TESTING <<<<<<<<<<\n\n')

test_k_sample_smoother()
test_map_cleaner()
test_coefficient_smoother()
test_convex_hull()
test_compute_significant_points()
test_reduce_point()

print('>>>>>>>>>> END TESTING <<<<<<<<<<\n\n')